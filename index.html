<!DOCTYPE html>
<html lang="en">
<head>
	<title>Project 4</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	
	<!-- NEEDS TO BE FILLED -->
	<meta name="keywords" content="keywords">
	<meta name="description" content="description">
	<meta property="og:title" content="title of page (name - home, name - about, etc">
	<!-- type is already filled -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="url">
	<meta property="og:image" content="path to image">
	<meta property="og:site_name" content="site name">
	<meta property="og:description" content="description">
	<!-- card is already filled -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:url" content="url">
	<meta name="twitter:title" content="title of page">
	<meta name="twitter:description" content="description">
	<!-- favicon and appleicon -->
	<link type="image/png" href="assets/favicon.png" rel="icon">
	<link rel="apple-touch-icon" href="assets/appleIcon.png">
	<!-- Font awesome (if needed) - get the new link just in case -->
	<!-- Google fonts -->
	<!-- animation library (if needed) -->
	<link rel="stylesheet" href="styles/style.css">	
</head>
<body>

	<h1>Hello there!</h1>


	<script src='https://code.jquery.com/jquery-3.2.1.min.js' integrity='sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4='crossorigin='anonymous'></script>

	<!-- Copy and paste working code to script.js and link the html to it -->
	<script>
	
		$(function () {
			bubbleApp.init()
		});

		// Create app namespace to hold all methods
		const bubbleApp = {};
		bubbleApp.apiKey = 'ca6458eda70bc2879ed3d6c923ba72a4';
		bubbleApp.url = 'https://developers.zomato.com/api/v2.1/search?entity_id=89&entity_type=city&cuisines=247';
		bubbleApp.bbtList = [];

		// Collect input
		bubbleApp.getInfo = function () {
			$.ajax({
				url: `${bubbleApp.url}cuisines`,
				// header: {'user_key': bubbleApp.apiKey},
				headers: {
					'user-key': 'ca6458eda70bc2879ed3d6c923ba72a4'
					},
				dataType: 'json',
				method: 'GET',
				data: {
					city_id: 89,
					cuisines: 247,
				}
			}).then((res) => {
				bubbleApp.allPlaces = res.restaurants;
				bubbleApp.displayNewList(bubbleApp.allPlaces)


			 });
		}

		bubbleApp.displayNewList = function(oldList) {
			oldList.forEach((place) => {
				const resObject = {};
				resObject.name = place.restaurant.name;
				resObject.locality = place.restaurant.location.locality;
				resObject.address = place.restaurant.location.address;
				resObject.cuisine = place.restaurant.cuisines;
				bubbleApp.bbtList.push(resObject);
			});

		}

		console.log(bubbleApp.bbtList);




		// Make AJAX request with user inputted data
		// bubbleApp.getInfo = function () {

		// }

		// Display data on the page

		// Start app
		bubbleApp.init = function () {
			bubbleApp.getInfo();

		}




	</script>



</body>
</html>